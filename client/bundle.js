!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STEP_POWER=t.INITIAL_POWER=t.MIN_DELAY=t.STEP_DELAY=t.INITIAL_DELAY=t.MAX_SPEED=t.STEP_SPEED=t.INITIAL_SPEED=t.DELAY=t.POWER=t.SPEED=t.PING=t.EXPLOSION_TIME=t.TILE_SIZE=t.LAYER=t.TILESET=t.AVAILABLE_MAPS=void 0;t.AVAILABLE_MAPS=["hot_map","cold_map"];t.TILESET="tiles";t.LAYER="Blocks";t.TILE_SIZE=35;t.EXPLOSION_TIME=2e3;t.PING=100;t.SPEED=0;t.POWER=1;t.DELAY=2;t.INITIAL_SPEED=150;t.STEP_SPEED=50;t.MAX_SPEED=350;t.INITIAL_DELAY=2e3;t.STEP_DELAY=500;t.MIN_DELAY=500;t.INITIAL_POWER=1;t.STEP_POWER=1},function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=h(e);if(t){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.SpoilNotification=t.PlayerSlots=t.GameSlots=t.TextButton=t.Button=t.Text=void 0;var m=function(e){u(n,Phaser.Text);var t=f(n);function n(e){var o,r=e.game,i=e.x,a=e.y,s=e.text,u=e.style;return c(this,n),(o=t.call(this,r,i,a,s,u)).anchor.setTo(.5),o.game.add.existing(y(o)),o}return n}();t.Text=m;var d=function(e){u(n,Phaser.Button);var t=f(n);function n(e){var o,r=e.game,i=e.x,a=e.y,s=e.asset,u=e.callback,l=e.callbackContext,f=e.overFrame,p=e.outFrame,h=e.downFrame,m=e.upFrame;return c(this,n),(o=t.call(this,r,i,a,s,u,l,f,p,h,m)).anchor.setTo(.5),o.game.add.existing(y(o)),o}return n}();t.Button=d;var b=function(e){u(n,Phaser.Button);var t=f(n);function n(e){var o,r=e.game,i=e.x,a=e.y,s=e.asset,u=e.callback,l=e.callbackContext,f=e.overFrame,p=e.outFrame,h=e.downFrame,m=e.upFrame,d=e.label,b=e.style;return c(this,n),(o=t.call(this,r,i,a,s,u,l,f,p,h,m)).anchor.setTo(.5),o.text=new Phaser.Text(o.game,0,0,d,b),o.text.anchor.setTo(.5),o.addChild(o.text),o.game.add.existing(y(o)),o}return s(n,[{key:"disable",value:function(){this.setFrames(3,3),this.inputEnabled=!1,this.input.useHandCursor=!1}},{key:"enable",value:function(){this.setFrames(1,0,2),this.inputEnabled=!0,this.input.useHandCursor=!0}}]),n}();t.TextButton=b;var g=function(e){u(n,Phaser.Group);var t=f(n);function n(e){var o,i=e.game,a=e.availableGames,s=e.callback,u=e.callbackContext,l=e.x,f=e.y,p=e.style;c(this,n),o=t.call(this,i);var y,h=f,m=r(a);try{for(m.s();!(y=m.n()).done;){var d=y.value,b=new Phaser.Image(o.game,l,h,"slot_backdrop"),g=new Phaser.Button(o.game,b.width-100,12,"list_icon",s.bind(u,{game_id:d.id}),null,1,0,2,1),v=new Phaser.Text(o.game,30,25,"Join Game: ".concat(d.name),p);b.addChild(g),b.addChild(v),o.add(b),h+=105}}catch(e){m.e(e)}finally{m.f()}return o}return s(n,[{key:"destroy",value:function(){this.callAll("kill")}}]),n}();t.GameSlots=g;var v=function(e){u(n,Phaser.Group);var t=f(n);function n(e){var o,r=e.game,i=e.max_players,a=e.players,s=e.x,u=e.y,l=e.asset_empty,f=e.asset_player,p=e.style;c(this,n),o=t.call(this,r);for(var y=s,h=0;h<i;h++){var m=void 0,d=void 0,b=a[h];b?(m=new Phaser.Image(o.game,y,u,f+b.skin),(d=new Phaser.Text(o.game,m.width/2,m.height+15,b.skin,p)).anchor.setTo(.5),m.addChild(d)):m=new Phaser.Image(o.game,y,u,l),o.add(m),y+=170}return o}return s(n,[{key:"destroy",value:function(){this.callAll("kill")}}]),n}();t.PlayerSlots=v;var _=function(e){u(n,Phaser.Group);var t=f(n);function n(e){var o,r=e.game,i=e.asset,a=e.x,s=e.y;return c(this,n),(o=t.call(this,r)).picture=new Phaser.Image(o.game,a,s-20,i),o.picture.anchor.setTo(.5),o.add(o.picture),o.tween=o.game.add.tween(o.picture),o.tween.to({y:o.picture.y-25,alpha:0},600),o.tween.onComplete.add(o.finish,y(o)),o.tween.start(),o}return s(n,[{key:"finish",value:function(){this.callAll("kill")}}]),n}();t.SpoilNotification=_},function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=f(n(3)),i=f(n(4)),a=f(n(5)),s=f(n(6)),c=f(n(7)),u=f(n(8)),l=f(n(17));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=m(e);if(t){var r=m(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,Phaser.Game);var t=y(n);function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=t.call(this,980,630,Phaser.AUTO,"game-container")).config.forceSetTimeOut=!0,e.state.add("Boot",r.default),e.state.add("Preload",i.default),e.state.add("Menu",a.default),e.state.add("SelectMap",s.default),e.state.add("PendingGame",c.default),e.state.add("Play",u.default),e.state.add("Win",l.default),e.state.start("Boot"),e}return n}())},function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(1);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=l(e);if(t){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,Phaser.State);var t,n,o,u=c(l);function l(){return i(this,l),u.apply(this,arguments)}return t=l,(n=[{key:"create",value:function(){this.game.stage.disableVisibilityChange=!0,new r.Text({game:this.game,x:this.game.world.centerX,y:this.game.world.centerY,text:"Loading...",style:{font:"30px Areal",fill:"#FFFFFF"}}),this.state.start("Preload")}}])&&a(t.prototype,n),o&&a(t,o),l}();t.default=f},function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=u(e);if(t){var r=u(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,Phaser.State);var t,n,o,c=s(u);function u(){return r(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"preload",value:function(){this.load.image("main_menu","images/menu/main_menu.png"),this.load.image("slot_backdrop","images/menu/slot_backdrop.png"),this.load.spritesheet("buttons","images/menu/buttons.png",200,75),this.load.spritesheet("check_icon","images/menu/accepts.png",75,75),this.load.spritesheet("list_icon","images/menu/game_enter.png",75,75),this.load.image("hot_map_preview","images/menu/hot_map_preview.png"),this.load.image("cold_map_preview","images/menu/cold_map_preview.png"),this.load.image("prev","images/menu/left_arrow.png"),this.load.image("next","images/menu/right_arrow.png"),this.load.image("tiles","maps/tileset.png"),this.load.tilemap("hot_map","maps/hot_map.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("cold_map","maps/cold_map.json",null,Phaser.Tilemap.TILED_JSON),this.load.spritesheet("explosion_center","images/game/explosion_center.png",35,35),this.load.spritesheet("explosion_horizontal","images/game/explosion_horizontal.png",35,35),this.load.spritesheet("explosion_vertical","images/game/explosion_vertical.png",35,35),this.load.spritesheet("explosion_up","images/game/explosion_up.png",35,35),this.load.spritesheet("explosion_right","images/game/explosion_right.png",35,35),this.load.spritesheet("explosion_down","images/game/explosion_down.png",35,35),this.load.spritesheet("explosion_left","images/game/explosion_left.png",35,35),this.load.spritesheet("spoil_tileset","images/game/spoil_tileset.png",35,35),this.load.spritesheet("bone_tileset","images/game/bone_tileset.png",35,35),this.load.spritesheet("bomb_tileset","images/game/bombs.png",35,35),this.load.image("speed_up_bonus","images/game/speed_up_bonus.png"),this.load.image("speed_up_no_bonus","images/game/speed_up_no_bonus.png"),this.load.image("delay_up_bonus","images/game/delay_up_bonus.png"),this.load.image("delay_up_no_bonus","images/game/delay_up_no_bonus.png"),this.load.image("power_up_bonus","images/game/power_up_bonus.png"),this.load.image("placeholder_power","images/game/placeholder_power.png"),this.load.image("placeholder_speed","images/game/placeholder_speed.png"),this.load.image("placeholder_time","images/game/placeholder_time.png"),this.load.image("bomberman_head_blank","images/game/chars/0-face.png"),this.load.image("bomberman_head_윈디","images/game/chars/1-face.png"),this.load.image("bomberman_head_학계정설","images/game/chars/2-face.png"),this.load.image("bomberman_head_오마이갓","images/game/chars/3-face.png"),this.load.image("bomberman_head_덤디덤디","images/game/chars/4-face.png"),this.load.image("bomberman_head_선장님","images/game/chars/5-face.png"),this.load.image("bomberman_head_JSY엔터대표","images/game/chars/6-face.png"),this.load.image("bomberman_head_아자사자","images/game/chars/7-face.png"),this.load.image("bomberman_head_연하공주","images/game/chars/8-face.png"),this.load.image("bomberman_head_천진반","images/game/chars/9-face.png"),this.load.image("bomberman_head_힙합꾸러기","images/game/chars/10-face.png"),this.load.image("bomberman_head_낭만땃쥐","images/game/chars/11-face.png"),this.load.spritesheet("bomberman_윈디","images/game/chars/1-preview.png",32,32),this.load.spritesheet("bomberman_학계정설","images/game/chars/2-preview.png",32,32),this.load.spritesheet("bomberman_오마이갓","images/game/chars/3-preview.png",32,32),this.load.spritesheet("bomberman_덤디덤디","images/game/chars/4-preview.png",32,32),this.load.spritesheet("bomberman_선장님","images/game/chars/5-preview.png",32,32),this.load.spritesheet("bomberman_JSY엔터대표","images/game/chars/6-preview.png",32,32),this.load.spritesheet("bomberman_아자사자","images/game/chars/7-preview.png",32,32),this.load.spritesheet("bomberman_연하공주","images/game/chars/8-preview.png",32,32),this.load.spritesheet("bomberman_천진반","images/game/chars/9-preview.png",32,32),this.load.spritesheet("bomberman_힙합꾸러기","images/game/chars/10-preview.png",32,32),this.load.spritesheet("bomberman_낭만땃쥐","images/game/chars/11-preview.png",32,32)}},{key:"create",value:function(){this.state.start("Menu")}}])&&i(t.prototype,n),o&&i(t,o),u}();t.default=l},function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(1);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=l(e);if(t){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,Phaser.State);var t,n,o,u=c(l);function l(){return i(this,l),u.apply(this,arguments)}return t=l,(n=[{key:"init",value:function(){this.slotsWithGame=null,clientSocket.on("display pending games",this.displayPendingGames.bind(this))}},{key:"create",value:function(){this.add.image(this.game.world.centerX,this.game.world.centerY,"main_menu").anchor.setTo(.5),new r.Text({game:this.game,x:this.game.world.centerX,y:this.game.world.centerY-212,text:"크레이지 젤리말콘",style:{font:"20px Areal",fill:"#9ec0ba",stroke:"#7f9995",strokeThickness:3}}),new r.TextButton({game:this.game,x:this.game.world.centerX,y:this.game.world.centerY+195,asset:"buttons",callback:this.hostGameAction,callbackContext:this,overFrame:1,outFrame:0,downFrame:2,upFrame:0,label:"New Game",style:{font:"20px Areal",fill:"#000000"}}),clientSocket.emit("enter lobby",this.displayPendingGames.bind(this))}},{key:"update",value:function(){}},{key:"hostGameAction",value:function(){clientSocket.emit("leave lobby"),this.state.start("SelectMap")}},{key:"displayPendingGames",value:function(e){this.slotsWithGame&&this.slotsWithGame.destroy(),this.slotsWithGame=new r.GameSlots({game:this.game,availableGames:e,callback:this.joinGameAction,callbackContext:this,x:this.game.world.centerX-220,y:160,style:{font:"35px Areal",fill:"#efefef",stroke:"#ae743a",strokeThickness:3}})}},{key:"joinGameAction",value:function(e){clientSocket.emit("leave lobby"),this.state.start("PendingGame",!0,!1,e)}}])&&a(t.prototype,n),o&&a(t,o),l}();t.default=f},function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),i=n(1);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=f(e);if(t){var r=f(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(f,Phaser.State);var t,n,o,l=u(f);function f(){return a(this,f),l.apply(this,arguments)}return t=f,(n=[{key:"init",value:function(){this.slider=new phaseSlider(this)}},{key:"create",value:function(){this.add.image(this.game.world.centerX,this.game.world.centerY,"main_menu").anchor.setTo(.5),new i.Text({game:this.game,x:this.game.world.centerX,y:this.game.world.centerY-215,text:"Select Map",style:{font:"35px Areal",fill:"#9ec0ba",stroke:"#6f7975",strokeThickness:3}});var e=new Phaser.Image(this.game,0,0,"hot_map_preview"),t=new Phaser.Image(this.game,0,0,"cold_map_preview");this.slider.createSlider({x:this.game.world.centerX-e.width/2,y:this.game.world.centerY-t.height/2,width:e.width,height:e.height,customHandlePrev:"prev",customHandleNext:"next",objects:[e,t]}),new i.Button({game:this.game,x:this.game.world.centerX,y:this.game.world.centerY+195,asset:"check_icon",callback:this.confirmStageSelection,callbackContext:this,overFrame:1,outFrame:0,downFrame:2,upFrame:0})}},{key:"confirmStageSelection",value:function(){var e=r.AVAILABLE_MAPS[this.slider.getCurrentIndex()];clientSocket.emit("create game",e,this.joinToNewGame.bind(this))}},{key:"joinToNewGame",value:function(e){this.state.start("PendingGame",!0,!1,e)}}])&&s(t.prototype,n),o&&s(t,o),f}();t.default=p},function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(1);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=l(e);if(t){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,Phaser.State);var t,n,o,u=c(l);function l(){return i(this,l),u.apply(this,arguments)}return t=l,(n=[{key:"init",value:function(e){var t=e.game_id;this.slotsWithPlayer=null,this.game_id=t,clientSocket.on("update game",this.displayGameInfo.bind(this)),clientSocket.on("launch game",this.launchGame.bind(this)),clientSocket.emit("enter pending game",{game_id:this.game_id})}},{key:"create",value:function(){this.add.image(this.game.world.centerX,this.game.world.centerY,"main_menu").anchor.setTo(.5),this.gameTitle=new r.Text({game:this.game,x:this.game.world.centerX,y:this.game.world.centerY-215,text:"",style:{font:"35px Areal",fill:"#9ec0ba",stroke:"#6f7975",strokeThickness:3}}),this.startGameButton=new r.TextButton({game:this.game,x:this.game.world.centerX+105,y:this.game.world.centerY+195,asset:"buttons",callback:this.startGameAction,callbackContext:this,overFrame:1,outFrame:0,downFrame:2,upFrame:0,label:"Start Game",style:{font:"20px Areal",fill:"#000000"}}),this.startGameButton.disable(),new r.TextButton({game:this.game,x:this.game.world.centerX-105,y:this.game.world.centerY+195,asset:"buttons",callback:this.leaveGameAction,callbackContext:this,overFrame:1,outFrame:0,downFrame:2,upFrame:0,label:"Leave Game",style:{font:"20px Areal",fill:"#000000"}})}},{key:"displayGameInfo",value:function(e){var t=e.current_game,n=Object.values(t.players);this.gameTitle.text=t.name,this.slotsWithPlayer&&this.slotsWithPlayer.destroy(),this.slotsWithPlayer=new r.PlayerSlots({game:this.game,max_players:t.max_players,players:n,x:this.game.world.centerX-245,y:this.game.world.centerY-80,asset_empty:"bomberman_head_blank",asset_player:"bomberman_head_",style:{font:"20px Areal",fill:"#48291c"}}),n.length>1?this.startGameButton.enable():this.startGameButton.disable()}},{key:"leaveGameAction",value:function(){clientSocket.emit("leave pending game"),this.state.start("Menu")}},{key:"startGameAction",value:function(){clientSocket.emit("start game")}},{key:"launchGame",value:function(e){this.state.start("Play",!0,!1,e)}}])&&a(t.prototype,n),o&&a(t,o),l}();t.default=f},function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(9),i=n(0),a=p(n(10)),s=p(n(12)),c=p(n(13)),u=p(n(14)),l=p(n(15)),f=p(n(16));function p(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=_(e);if(t){var r=_(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(h,Phaser.State);var t,n,o,p=g(h);function h(){return m(this,h),p.apply(this,arguments)}return t=h,(n=[{key:"init",value:function(e){this.currentGame=e}},{key:"create",value:function(){this.createMap(),this.createPlayers(),this.setEventHandlers(),this.game.time.events.loop(400,this.stopAnimationLoop.bind(this))}},{key:"update",value:function(){this.game.physics.arcade.collide(this.player,this.blockLayer),this.game.physics.arcade.collide(this.player,this.enemies),this.game.physics.arcade.collide(this.player,this.bombs),this.game.physics.arcade.overlap(this.player,this.spoils,this.onPlayerVsSpoil,null,this),this.game.physics.arcade.overlap(this.player,this.blasts,this.onPlayerVsBlast,null,this)}},{key:"createMap",value:function(){this.map=this.add.tilemap(this.currentGame.map_name),this.map.addTilesetImage(i.TILESET),this.blockLayer=this.map.createLayer(i.LAYER),this.blockLayer.resizeWorld(),this.map.setCollision(this.blockLayer.layer.properties.collisionTiles),this.player=null,this.bones=this.game.add.group(),this.bombs=this.game.add.group(),this.spoils=this.game.add.group(),this.blasts=this.game.add.group(),this.enemies=this.game.add.group(),this.game.physics.arcade.enable(this.blockLayer)}},{key:"createPlayers",value:function(){for(var e=0,t=Object.values(this.currentGame.players);e<t.length;e++){var n=t[e],o={game:this.game,id:n.id,spawn:n.spawn,skin:n.skin};n.id===clientSocket.id?this.player=new a.default(o):this.enemies.add(new s.default(o))}}},{key:"setEventHandlers",value:function(){clientSocket.on("move player",this.onMovePlayer.bind(this)),clientSocket.on("player win",this.onPlayerWin.bind(this)),clientSocket.on("show bomb",this.onShowBomb.bind(this)),clientSocket.on("detonate bomb",this.onDetonateBomb.bind(this)),clientSocket.on("spoil was picked",this.onSpoilWasPicked.bind(this)),clientSocket.on("show bones",this.onShowBones.bind(this)),clientSocket.on("player disconnect",this.onPlayerDisconnect.bind(this))}},{key:"onPlayerVsSpoil",value:function(e,t){clientSocket.emit("pick up spoil",{spoil_id:t.id}),t.kill()}},{key:"onPlayerVsBlast",value:function(e,t){e.alive&&(clientSocket.emit("player died",{col:e.currentCol(),row:e.currentRow()}),e.becomesDead())}},{key:"onMovePlayer",value:function(e){var t=e.player_id,n=e.x,o=e.y,i=(0,r.findFrom)(t,this.enemies);i&&i.goTo({x:n,y:o})}},{key:"stopAnimationLoop",value:function(){var e,t=y(this.enemies.children);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.lastMoveAt<this.game.time.now-200&&n.animations.stop()}}catch(e){t.e(e)}finally{t.f()}}},{key:"onShowBomb",value:function(e){var t=e.bomb_id,n=e.col,o=e.row;this.bombs.add(new c.default(this.game,t,n,o))}},{key:"onDetonateBomb",value:function(e){var t=e.bomb_id,n=e.blastedCells;(0,r.findAndDestroyFrom)(t,this.bombs);var o,i=y(n);try{for(i.s();!(o=i.n()).done;){var a=o.value;this.blasts.add(new l.default(this.game,a))}}catch(e){i.e(e)}finally{i.f()}var s,c=y(n);try{for(c.s();!(s=c.n()).done;){var f=s.value;f.destroyed&&this.map.putTile(this.blockLayer.layer.properties.empty,f.col,f.row,this.blockLayer)}}catch(e){c.e(e)}finally{c.f()}var p,h=y(n);try{for(h.s();!(p=h.n()).done;){var m=p.value;m.destroyed&&m.spoil&&this.spoils.add(new u.default(this.game,m.spoil))}}catch(e){h.e(e)}finally{h.f()}}},{key:"onSpoilWasPicked",value:function(e){var t=e.player_id,n=e.spoil_id,o=e.spoil_type;t===this.player.id&&this.player.pickSpoil(o),(0,r.findAndDestroyFrom)(n,this.spoils)}},{key:"onShowBones",value:function(e){var t=e.player_id,n=e.col,o=e.row;this.bones.add(new f.default(this.game,n,o)),(0,r.findAndDestroyFrom)(t,this.enemies)}},{key:"onPlayerWin",value:function(e){clientSocket.emit("leave game"),this.state.start("Win",!0,!1,e)}},{key:"onPlayerDisconnect",value:function(e){var t=e.player_id;(0,r.findAndDestroyFrom)(t,this.enemies),this.enemies.children.length>=1||this.onPlayerWin()}}])&&d(t.prototype,n),o&&d(t,o),h}();t.default=w},function(e,t,n){"use strict";function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Object.defineProperty(t,"__esModule",{value:!0}),t.findAndDestroyFrom=t.findFrom=void 0;var i=function(e,t){var n,r=o(t.children);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.id===e)return i}}catch(e){r.e(e)}finally{r.f()}return null};t.findFrom=i;t.findAndDestroyFrom=function(e,t){var n=i(e,t);n&&n.destroy()}},function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(0),a=(r=n(11))&&r.__esModule?r:{default:r},s=n(1);function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=y(e);if(t){var r=y(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(f,Phaser.Sprite);var t,n,o,r=l(f);function f(e){var t,n=e.game,o=e.id,s=e.spawn,c=e.skin;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=r.call(this,n,s.x,s.y,"bomberman_"+c)).game=n,t.id=o,t.prevPosition={x:s.x,y:s.y},t.delay=i.INITIAL_DELAY,t.power=i.INITIAL_POWER,t.speed=i.INITIAL_SPEED,t._lastBombTime=0,t.game.add.existing(p(t)),t.game.physics.arcade.enable(p(t)),t.body.setSize(20,20,6,6),n.time.events.loop(i.PING,t.positionUpdaterLoop.bind(p(t))),t.animations.add("up",[9,10,11],15,!0),t.animations.add("down",[0,1,2],15,!0),t.animations.add("right",[6,7,8],15,!0),t.animations.add("left",[3,4,5],15,!0),t.info=new a.default({game:t.game,player:p(t)}),t.defineKeyboard(),t.defineSelf(c),t}return t=f,(n=[{key:"update",value:function(){this.alive&&(this.handleMoves(),this.handleBombs())}},{key:"defineKeyboard",value:function(){this.upKey=this.game.input.keyboard.addKey(Phaser.Keyboard.UP),this.downKey=this.game.input.keyboard.addKey(Phaser.Keyboard.DOWN),this.leftKey=this.game.input.keyboard.addKey(Phaser.Keyboard.LEFT),this.rightKey=this.game.input.keyboard.addKey(Phaser.Keyboard.RIGHT),this.spaceKey=this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR)}},{key:"handleMoves",value:function(){this.body.velocity.set(0);var e=[];this.leftKey.isDown?(this.body.velocity.x=-this.speed,e.push("left")):this.rightKey.isDown&&(this.body.velocity.x=this.speed,e.push("right")),this.upKey.isDown?(this.body.velocity.y=-this.speed,e.push("up")):this.downKey.isDown&&(this.body.velocity.y=this.speed,e.push("down"));var t=e[0];t?this.animations.play(t):this.animations.stop()}},{key:"handleBombs",value:function(){if(this.game.input.keyboard.isDown(Phaser.Keyboard.SPACEBAR)){var e=this.game.time.now;e>this._lastBombTime&&(this._lastBombTime=e+this.delay,clientSocket.emit("create bomb",{col:this.currentCol(),row:this.currentRow()}))}}},{key:"currentCol",value:function(){return Math.floor(this.body.position.x/i.TILE_SIZE)}},{key:"currentRow",value:function(){return Math.floor(this.body.position.y/i.TILE_SIZE)}},{key:"positionUpdaterLoop",value:function(){var e={x:this.position.x,y:this.position.y};this.prevPosition.x===e.x&&this.prevPosition.y===e.y||(clientSocket.emit("update player position",e),this.prevPosition=e)}},{key:"becomesDead",value:function(){this.info.showDeadInfo(),this.kill()}},{key:"pickSpoil",value:function(e){e===i.SPEED&&this.increaseSpeed(),e===i.POWER&&this.increasePower(),e===i.DELAY&&this.increaseDelay()}},{key:"increaseSpeed",value:function(){var e="speed_up_no_bonus";this.speed<i.MAX_SPEED&&(this.speed=this.speed+i.STEP_SPEED,this.info.refreshStatistic(),e="speed_up_bonus"),new s.SpoilNotification({game:this.game,asset:e,x:this.position.x,y:this.position.y})}},{key:"increaseDelay",value:function(){var e="delay_up_no_bonus";this.delay>i.MIN_DELAY&&(this.delay-=i.STEP_DELAY,this.info.refreshStatistic(),e="delay_up_bonus"),new s.SpoilNotification({game:this.game,asset:e,x:this.position.x,y:this.position.y})}},{key:"increasePower",value:function(){this.power+=i.STEP_POWER,this.info.refreshStatistic(),new s.SpoilNotification({game:this.game,asset:"power_up_bonus",x:this.position.x,y:this.position.y})}},{key:"defineSelf",value:function(e){var t=new s.Text({game:this.game,x:i.TILE_SIZE/2,y:-10,text:"✮ ".concat(e," ✮"),style:{font:"15px Areal",fill:"#FFFFFF",stroke:"#000000",strokeThickness:3}});this.addChild(t)}}])&&c(t.prototype,n),o&&c(t,o),f}();t.default=h},function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(t){var n=t.game,o=t.player;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.game=n,this.player=o,this.style={font:"14px Arial",fill:"#ffffff",align:"left"},this.redStyle={font:"30px Arial",fill:"#ff0044",align:"center"};var r=new Phaser.Image(this.game,5,2,"placeholder_speed");this.speedText=new Phaser.Text(this.game,35,7,this.speedLabel(),this.style),r.addChild(this.speedText),this.game.add.existing(r);var i=new Phaser.Image(this.game,110,2,"placeholder_power");this.powerText=new Phaser.Text(this.game,35,7,this.powerLabel(),this.style),i.addChild(this.powerText),this.game.add.existing(i);var a=new Phaser.Image(this.game,215,2,"placeholder_time");this.delayText=new Phaser.Text(this.game,35,7,this.delayLabel(),this.style),a.addChild(this.delayText),this.game.add.existing(a),this.deadText=this.game.add.text(this.game.world.centerX,this.game.world.height-30,"You died :(",this.redStyle),this.deadText.anchor.set(.5),this.deadText.visible=!1}var t,n,r;return t=e,(n=[{key:"refreshStatistic",value:function(){this.speedText.text=this.speedLabel(),this.powerText.text=this.powerLabel(),this.delayText.text=this.delayLabel()}},{key:"showDeadInfo",value:function(){this.deadText.visible=!0}},{key:"speedLabel",value:function(){return this.player.speed}},{key:"powerLabel",value:function(){return"x ".concat(this.player.power)}},{key:"delayLabel",value:function(){return"".concat(this.player.delay/1e3," sec.")}}])&&o(t.prototype,n),r&&o(t,r),e}();t.default=r},function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),i=n(1);function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=f(e);if(t){var r=f(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(f,Phaser.Sprite);var t,n,o,u=c(f);function f(e){var t,n=e.game,o=e.id,r=e.spawn,i=e.skin;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=u.call(this,n,r.x,r.y,"bomberman_"+i)).game=n,t.id=o,t.currentPosition=r,t.lastMoveAt=0,t.game.physics.arcade.enable(l(t)),t.body.setSize(20,20,6,6),t.body.immovable=!0,t.animations.add("up",[9,10,11],15,!0),t.animations.add("down",[0,1,2],15,!0),t.animations.add("right",[6,7,8],15,!0),t.animations.add("left",[3,4,5],15,!0),t.defineSelf(i),t}return t=f,(n=[{key:"update",value:function(){}},{key:"goTo",value:function(e){this.lastMoveAt=this.game.time.now,this.animateFace(e),this.game.add.tween(this).to(e,r.PING,Phaser.Easing.Linear.None,!0)}},{key:"animateFace",value:function(e){var t="down",n=e.x-this.currentPosition.x,o=e.y-this.currentPosition.y;n<0?t="left":n>0?t="right":o<0?t="up":o>0&&(t="down"),this.animations.play(t),this.currentPosition=e}},{key:"defineSelf",value:function(e){var t=new i.Text({game:this.game,x:r.TILE_SIZE/2,y:-10,text:e,style:{font:"14px Areal",fill:"#FFFFFF",stroke:"#000000",strokeThickness:3}});this.addChild(t)}}])&&a(t.prototype,n),o&&a(t,o),f}();t.default=p},function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0);function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=l(e);if(t){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,Phaser.Sprite);var t,n,o,c=s(l);function l(e,t,n,o){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var a=n*r.TILE_SIZE+r.TILE_SIZE/2,s=o*r.TILE_SIZE+r.TILE_SIZE/2;return(i=c.call(this,e,a,s,"bomb_tileset")).scale.setTo(.7),i.anchor.setTo(.5),i.game=e,i.id=t,i.game.physics.arcade.enable(u(i)),i.game.add.tween(i.scale).to({x:1.2,y:1.2},r.EXPLOSION_TIME,Phaser.Easing.Linear.None,!0),i.body.immovable=!0,i.animations.add("bomb",[0,1,2,3,4,5,6,7,8,9,10,11,12,13],6,!0),i.animations.play("bomb"),i}return t=l,(n=[{key:"update",value:function(){}}])&&i(t.prototype,n),o&&i(t,o),l}();t.default=f},function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0);function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=u(e);if(t){var r=u(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(n,Phaser.Sprite);var t=a(n);function n(e,o){var i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),o.spoil_type===r.DELAY&&(a=0),o.spoil_type===r.POWER&&(a=1),o.spoil_type===r.SPEED&&(a=2),(i=t.call(this,e,o.col*r.TILE_SIZE,o.row*r.TILE_SIZE,"spoil_tileset",a)).id=o.id,i.game.physics.arcade.enable(c(i)),i}return n}();t.default=l},function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0);function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=u(e);if(t){var r=u(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(n,Phaser.Sprite);var t=a(n);function n(e,o){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(i=t.call(this,e,o.col*r.TILE_SIZE,o.row*r.TILE_SIZE,o.type,0)).game=e,i.animations.add("blast",[0,1,2,3,4]),i.play("blast",15,!1,!0),i.game.physics.arcade.enable(c(i)),i}return n}();t.default=l},function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0);function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(n,Phaser.Sprite);var t=a(n);function n(e,o,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.call(this,e,o*r.TILE_SIZE,i*r.TILE_SIZE,"bone_tileset")}return n}();t.default=u},function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(1);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=l(e);if(t){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,Phaser.State);var t,n,o,u=c(l);function l(){return i(this,l),u.apply(this,arguments)}return t=l,(n=[{key:"init",value:function(e){this.skin=e}},{key:"create",value:function(){new r.Text({game:this.game,x:this.game.world.centerX,y:this.game.world.centerY,text:this.winnerText(),style:{font:"30px Areal",fill:"#FFFFFF"}})}},{key:"update",value:function(){this.game.input.keyboard.isDown(Phaser.Keyboard.ENTER)&&this.returnToMenu()}},{key:"returnToMenu",value:function(){this.state.start("Menu")}},{key:"winnerText",value:function(){return this.skin?'Player: "'.concat(this.skin,'" won! Press Enter to return to main menu.'):"Opponent left! Press Enter to return to main menu."}}])&&a(t.prototype,n),o&&a(t,o),l}();t.default=f}]);
//# sourceMappingURL=bundle.js.map